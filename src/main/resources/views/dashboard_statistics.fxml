<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.ptudn12.main.controller.DashboardStatisticsController"
      stylesheets="@dashboard-statistic.css"
      spacing="25" styleClass="main-content">

    <padding>
        <Insets top="30" right="30" bottom="30" left="30"/>
    </padding>

    <!-- Welcome Section -->
    <VBox spacing="10" alignment="CENTER_LEFT">
        <Label text="ChÃ o má»«ng trá»Ÿ láº¡i! ðŸ‘‹" styleClass="welcome-title"/>
        <Label fx:id="welcomeSubtitle" text="DÆ°á»›i Ä‘Ã¢y lÃ  tá»•ng quan há»‡ thá»‘ng cá»§a báº¡n" styleClass="welcome-subtitle"/>
    </VBox>

    <!-- Statistics Cards -->
    <GridPane hgap="20" vgap="20">
        <columnConstraints>
            <ColumnConstraints percentWidth="25"/>
            <ColumnConstraints percentWidth="25"/>
            <ColumnConstraints percentWidth="25"/>
            <ColumnConstraints percentWidth="25"/>
        </columnConstraints>

        <!-- Card 1: Tá»•ng sá»‘ tuyáº¿n Ä‘Æ°á»ng -->
        <VBox styleClass="stat-card, card-blue" spacing="10" GridPane.columnIndex="0">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Label text="ðŸš†" style="-fx-font-size: 40px;"/>
            <Label text="Tá»•ng Tuyáº¿n ÄÆ°á»ng" styleClass="stat-label"/>
            <Label fx:id="totalRoutesLabel" text="24" styleClass="stat-value"/>
            <Label text="+3 so vá»›i thÃ¡ng trÆ°á»›c" styleClass="stat-change"/>
        </VBox>

        <!-- Card 2: Lá»‹ch trÃ¬nh hÃ´m nay -->
        <VBox styleClass="stat-card, card-green" spacing="10" GridPane.columnIndex="1">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Label text="ðŸ“…" style="-fx-font-size: 40px;"/>
            <Label text="Lá»‹ch TrÃ¬nh HÃ´m Nay" styleClass="stat-label"/>
            <Label fx:id="todaySchedulesLabel" text="12" styleClass="stat-value"/>
            <Label text="8 Ä‘ang cháº¡y, 4 chá» khá»Ÿi hÃ nh" styleClass="stat-change"/>
        </VBox>

        <!-- Card 3: Tá»•ng sá»‘ tÃ u -->
        <VBox styleClass="stat-card, card-orange" spacing="10" GridPane.columnIndex="2">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Label text="ðŸš‚" style="-fx-font-size: 40px;"/>
            <Label text="Tá»•ng Sá»‘ TÃ u" styleClass="stat-label"/>
            <Label fx:id="totalTrainsLabel" text="45" styleClass="stat-value"/>
            <Label text="42 hoáº¡t Ä‘á»™ng, 3 báº£o trÃ¬" styleClass="stat-change"/>
        </VBox>

        <!-- Card 4: Doanh thu thÃ¡ng -->
        <VBox styleClass="stat-card, card-purple" spacing="10" GridPane.columnIndex="3">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Label text="ðŸ’°" style="-fx-font-size: 40px;"/>
            <Label text="Doanh Thu ThÃ¡ng" styleClass="stat-label"/>
            <Label fx:id="revenueLabel" text="2.5 tá»·" styleClass="stat-value"/>
            <Label text="+15% so vá»›i thÃ¡ng trÆ°á»›c" styleClass="stat-change"/>
        </VBox>
    </GridPane>

    <!-- Charts Section -->
    <HBox spacing="20" VBox.vgrow="ALWAYS">
        <!-- Revenue Chart -->
        <VBox spacing="15" styleClass="chart-container" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Label text="Doanh Thu 7 NgÃ y Qua" styleClass="chart-title"/>
            <BarChart fx:id="revenueChart" VBox.vgrow="ALWAYS" legendVisible="false">
                <xAxis>
                    <CategoryAxis side="BOTTOM"/>
                </xAxis>
                <yAxis>
                    <NumberAxis side="LEFT" label="Triá»‡u Ä‘á»“ng"/>
                </yAxis>
            </BarChart>
        </VBox>

        <!-- Schedule Status Chart -->
        <VBox spacing="15" styleClass="chart-container" minWidth="350" maxWidth="400">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Label text="Tráº¡ng ThÃ¡i Lá»‹ch TrÃ¬nh" styleClass="chart-title"/>
            <PieChart fx:id="scheduleStatusChart" VBox.vgrow="ALWAYS"/>
        </VBox>
    </HBox>

    <!-- Recent Activities -->
    <VBox spacing="15" styleClass="activities-container">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>
        <Label text="Hoáº¡t Äá»™ng Gáº§n ÄÃ¢y" styleClass="section-title"/>
        <ListView fx:id="activitiesList" prefHeight="200" styleClass="activities-list"/>
    </VBox>

</VBox>