<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.ptudn12.main.controller.DashboardStatisticsController"
      stylesheets="@dashboard-statistics.css"
      spacing="25"
      styleClass="main-content">

    <padding>
        <Insets top="30" right="30" bottom="30" left="30"/>
    </padding>

    <VBox spacing="8" alignment="CENTER_LEFT">
        <Label text="Chào mừng trở lại" styleClass="welcome-title"/>
        <Label fx:id="welcomeSubtitle" text="Dưới đây là tổng quan hệ thống của bạn" styleClass="welcome-subtitle"/>
    </VBox>

    <GridPane hgap="20" vgap="20">
        <columnConstraints>
            <ColumnConstraints percentWidth="25"/>
            <ColumnConstraints percentWidth="25"/>
            <ColumnConstraints percentWidth="25"/>
            <ColumnConstraints percentWidth="25"/>
        </columnConstraints>

        <VBox styleClass="stat-card" spacing="10" GridPane.columnIndex="0">
            <padding><Insets top="18" right="18" bottom="18" left="18"/></padding>
            <Label text="Tổng Tuyến Đường" styleClass="stat-label"/>
            <Label fx:id="totalRoutesLabel" text="24" styleClass="stat-value"/>
            <Label text="+3 so với tháng trước" styleClass="stat-note"/>
        </VBox>

        <VBox styleClass="stat-card" spacing="10" GridPane.columnIndex="1">
            <padding><Insets top="18" right="18" bottom="18" left="18"/></padding>
            <Label text="Lịch Trình Hôm Nay" styleClass="stat-label"/>
            <Label fx:id="todaySchedulesLabel" text="12" styleClass="stat-value"/>
            <Label text="8 đang chạy, 4 chờ khởi hành" styleClass="stat-note"/>
        </VBox>

        <VBox styleClass="stat-card" spacing="10" GridPane.columnIndex="2">
            <padding><Insets top="18" right="18" bottom="18" left="18"/></padding>
            <Label text="Tổng Số Tàu" styleClass="stat-label"/>
            <Label fx:id="totalTrainsLabel" text="45" styleClass="stat-value"/>
            <Label text="42 hoạt động, 3 bảo trì" styleClass="stat-note"/>
        </VBox>

        <VBox styleClass="stat-card" spacing="10" GridPane.columnIndex="3">
            <padding><Insets top="18" right="18" bottom="18" left="18"/></padding>
            <Label text="Doanh Thu Tháng" styleClass="stat-label"/>
            <Label fx:id="revenueLabel" text="2.5 tỷ" styleClass="stat-value"/>
            <Label text="+15% so với tháng trước" styleClass="stat-note"/>
        </VBox>
    </GridPane>

    <HBox spacing="20" VBox.vgrow="ALWAYS">
        <VBox spacing="12" styleClass="panel" HBox.hgrow="ALWAYS">
            <padding><Insets top="18" right="18" bottom="18" left="18"/></padding>
            <Label text="Doanh Thu 7 Ngày Qua" styleClass="panel-title"/>
            <BarChart fx:id="revenueChart" VBox.vgrow="ALWAYS" legendVisible="false" animated="false">
                <xAxis><CategoryAxis side="BOTTOM"/></xAxis>
                <yAxis><NumberAxis side="LEFT" label="Triệu đồng"/></yAxis>
            </BarChart>
        </VBox>

        <VBox spacing="12" styleClass="panel" minWidth="350" maxWidth="400">
            <padding><Insets top="18" right="18" bottom="18" left="18"/></padding>
            <Label text="Trạng Thái Lịch Trình" styleClass="panel-title"/>
            <PieChart fx:id="scheduleStatusChart" VBox.vgrow="ALWAYS" legendVisible="true" labelsVisible="true" animated="false"/>
        </VBox>
    </HBox>

    <VBox spacing="12" styleClass="panel">
        <padding><Insets top="18" right="18" bottom="18" left="18"/></padding>
        <Label text="Hoạt Động Gần Đây" styleClass="panel-title"/>
        <ListView fx:id="activitiesList" prefHeight="200" styleClass="activities-list"/>
    </VBox>

</VBox>
